# Save my .secrets, .netrc and gpg private key files to 1password
eval $(op signin --account my.1password.com)

case $1 in
-a)
  echo "Saving all secrets"
  op document edit jsmwdtpgtbac5d6r7p4u2xcykm ~/.secrets
  op document edit vsksk2c4svgenbulii7muhkfte ~/.gnupg/colin@symr.io.asc
  op document edit qiv5n74bsfg7xa4i7qzc2gdx74 ~/.netrc
  ;;
-s)
  echo "Saving secrets"
  op document edit jsmwdtpgtbac5d6r7p4u2xcykm ~/.secrets
  ;;
-g)
  # Expires 2027-03-23 - regen using `gpg --armor --export-secret-keys >! colin@symr.io.asc` after refreshing
  echo "Saving gpg private key"
  op document edit vsksk2c4svgenbulii7muhkfte ~/.gnupg/colin@symr.io.asc
  ;;
-n)
  echo "Saving netrc"
  op document edit qiv5n74bsfg7xa4i7qzc2gdx74 ~/.netrc
  ;;
*)
  echo "Usage: $0 [-a|-s|-g|-n]"
  ;;
esac